---
import type { CollectionEntry } from 'astro:content';
import logoImage from '~/assets/logo.png';

interface Props {
  entry: CollectionEntry<'ativos'> | CollectionEntry<'plataformas'> | CollectionEntry<'fiscais'>;
}
const { entry } = Astro.props;
const { data } = entry;

const headline = 'title' in data ? data.title : data.nome;

const schema = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": headline,
  "description": data.description,
  "author": {
    "@type": "Organization",
    "name": "Ativos.pt",
    "url": Astro.site!.href
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ativos.pt",
    "logo": {
      "@type": "ImageObject",
      "url": new URL(logoImage.src, Astro.site!).href
    }
  },
};
---
<script type="application/ld+json" is:inline set:html={JSON.stringify(schema)} />